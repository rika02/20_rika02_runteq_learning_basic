<%= form_with model: board, local: true do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :body %>
    <%= f.text_area :body, class: 'form-control', row: '10', height: '200px' %>
  </div>
  <div class="form-group">
    <%= f.label :board_image %>
    <%= f.file_field :board_image, class: 'form-control' %>
  </div>
  <% if board.board_image.present? %>
    <%= image_tag board.board_image.url, id: :img_prev %>
  <% else %>
    <%= image_tag 'board_placeholder.png', id: :img_prev %>
  <% end %>

  <script type='text/javascript'>
  $(function(){
    function readURL(input){
      if (input.files && input.files[0]){
      var reader = new FileReader();
      reader.onload = function(e){
    $('#img_prev').attr('src',e.target.result);
      }
      reader.readAsDataURL(input.files[0]);
      }
    }
    $('#board_img').change(function(){
      readURL(this);
    });
  });
  </script><br>
  <%= f.submit class: 'btn btn-primary' %>
<% end %>
